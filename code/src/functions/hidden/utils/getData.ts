export const data = [
    {
        "key": {
            "eventName": "Waitlist_button_click",
            "userId": "session_1708809346920_lhe2f1qi0os"
        },
        "value": {
            "timestamp": 1708809522800,
            "eventValue": "",
            "eventDescription": "Clicked the button on the front of the home page which is meant for joining a waitlist. Ideally this is clicked only once"
        }
    },
    {
        "key": {
            "eventName": "Popup_appears",
            "userId": "session_1708809346920_lhe2f1qi0os"
        },
        "value": {
            "timestamp": 1708846519899,
            "eventValue": "",
            "eventDescription": "A popup appears in the About page."
        }
    },
    {
        "key": {
            "eventName": "Popup_appears",
            "userId": "session_1708809346920_lhe2f1qi0os"
        },
        "value": {
            "timestamp": 1708846535441,
            "eventValue": "",
            "eventDescription": "A popup appears in the About page."
        }
    },
    {
        "key": {
            "eventName": "Popup_close",
            "userId": "session_1708809346920_lhe2f1qi0os"
        },
        "value": {
            "timestamp": 1708846567138,
            "eventValue": "",
            "eventDescription": "User closes the popup"
        }
    },
    {
        "key": {
            "eventName": "Popup_appears",
            "userId": "session_1708809346920_lhe2f1qi0os"
        },
        "value": {
            "timestamp": 1708846592307,
            "eventValue": "",
            "eventDescription": "A popup appears in the About page."
        }
    },
    {
        "key": {
            "eventName": "Popup_appears",
            "userId": "session_1708809346920_lhe2f1qi0os"
        },
        "value": {
            "timestamp": 1708846595892,
            "eventValue": "",
            "eventDescription": "A popup appears in the About page."
        }
    },
    {
        "key": {
            "eventName": "Popup_close",
            "userId": "session_1708809346920_lhe2f1qi0os"
        },
        "value": {
            "timestamp": 1708846596671,
            "eventValue": "",
            "eventDescription": "User closes the popup"
        }
    },
    {
        "key": {
            "userId": "session_1708809346920_lhe2f1qi0os"
        },
        "value": {
            "timestamp": 1708847140944,
            "eventValue": ""
        }
    },
    {
        "key": {
            "eventName": "Home_page_enter",
            "userId": "session_1708809346920_lhe2f1qi0os"
        },
        "value": {
            "timestamp": 1708847148946,
            "eventValue": ""
        }
    },
    {
        "key": {
            "eventName": "Home_page_enter",
            "userId": "session_1708809346920_lhe2f1qi0os"
        },
        "value": {
            "timestamp": 1708847149944,
            "eventValue": "",
            "eventDescription": "Home_page_enter"
        }
    },
    {
        "key": {
            "eventName": "Home_page_enter",
            "userId": "session_1708809346920_lhe2f1qi0os"
        },
        "value": {
            "timestamp": 1708847154945,
            "eventValue": "",
            "eventDescription": "User enters the home page, possible leaving the about page"
        }
    },
    {
        "key": {
            "eventName": "Home_page_enter",
            "userId": "session_1708809346920_lhe2f1qi0os"
        },
        "value": {
            "timestamp": 1708847155948,
            "eventValue": "",
            "eventDescription": "User enters the home page, possible leaving the about page"
        }
    },
    {
        "key": {
            "eventName": "Home_page_enter",
            "userId": null
        },
        "value": {
            "timestamp": 1708847761612,
            "eventValue": "",
            "eventDescription": "User enters the home page, possible leaving the about page"
        }
    },
    {
        "key": {
            "eventName": "Home_page_enter",
            "userId": "session_1708847761614_4aikj6m7t7y"
        },
        "value": {
            "timestamp": 1708847761614,
            "eventValue": "",
            "eventDescription": "User enters the home page, possible leaving the about page"
        }
    },
    {
        "key": {
            "eventName": "Other_org_click",
            "userId": "session_1708847761614_4aikj6m7t7y"
        },
        "value": {
            "timestamp": 1708847787924,
            "eventValue": "",
            "eventDescription": "Clicking on the form field to manually type in the organisation name, because it was not present in the dropdown list. Ideally it should be present in the dropdown"
        }
    },
    {
        "key": {
            "eventName": "Waitlist_button_click",
            "userId": "session_1708847761614_4aikj6m7t7y"
        },
        "value": {
            "timestamp": 1708847793627,
            "eventValue": "",
            "eventDescription": "Clicked the button on the front of the home page which is meant for joining a waitlist. Ideally this is clicked only once"
        }
    },
    {
        "key": {
            "eventName": "Waitlist_button_click",
            "userId": "session_1708847761614_4aikj6m7t7y"
        },
        "value": {
            "timestamp": 1708847794440,
            "eventValue": "",
            "eventDescription": "Clicked the button on the front of the home page which is meant for joining a waitlist. Ideally this is clicked only once"
        }
    },
    {
        "key": {
            "eventName": "About_page_enter",
            "userId": "session_1708847761614_4aikj6m7t7y"
        },
        "value": {
            "timestamp": 1708847805724,
            "eventValue": "",
            "eventDescription": "User enters the about page."
        }
    },
    {
        "key": {
            "eventName": "About_page_enter",
            "userId": "session_1708847761614_4aikj6m7t7y"
        },
        "value": {
            "timestamp": 1708847805727,
            "eventValue": "",
            "eventDescription": "User enters the about page."
        }
    },
    {
        "key": {
            "eventName": "Popup_appears",
            "userId": "session_1708847761614_4aikj6m7t7y"
        },
        "value": {
            "timestamp": 1708847806898,
            "eventValue": "",
            "eventDescription": "A popup appears in the About page."
        }
    },
    {
        "key": {
            "eventName": "Home_page_enter",
            "userId": "session_1708847761614_4aikj6m7t7y"
        },
        "value": {
            "timestamp": 1708847808050,
            "eventValue": "",
            "eventDescription": "User enters the home page, possible leaving the about page"
        }
    },
    {
        "key": {
            "eventName": "Home_page_enter",
            "userId": "session_1708847761614_4aikj6m7t7y"
        },
        "value": {
            "timestamp": 1708847808053,
            "eventValue": "",
            "eventDescription": "User enters the home page, possible leaving the about page"
        }
    }
]

export function getData(inputArray = data) {
    // Create an object to store results based on user ids
    const resultObject: any = {};
  
    // Iterate through the input array
    inputArray.forEach((item) => {
      const userId = item.key.userId;
  
      // If the user id is not in the result object, create a new array for it
      if(userId != null) {
        
      
      if (!resultObject[userId]) {
        resultObject[userId] = [];
      }
  
      // Push the item into the array corresponding to the user id
      resultObject[userId].push(item);
      
    }
    });
  
    // Convert the result object to an array of objects
    const resultArray = Object.values(resultObject);
  
    // Flatten the array of arrays into a single array
    const flattenedArray = resultArray.flat();
  
    return flattenedArray;
  }
  
